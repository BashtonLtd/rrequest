<template name="widget_ticket_list">
  {{#with widget widgetId}}

    <div class="box-header">
      <div class="pagetitle">{{label}}</div>
      <div class="btn-group pull-right">
        <input id="search-{{id}}" class="searchfilter" type="text" value="{{searchfilter id}}" placeholder="Search..."/>
      </div>
      <div class="clearfix"></div>
    </div>
    <div class="clearfix"></div>
    <div class="box-body" style="height:{{body_height id}}px; overflow:auto;">
      <div class="ticket-list">
      {{#each tickets}}
        {{> ticketrow}}
      {{/each}}
      </div>
    </div>
    <div class="box-footer">
      <div class="btn-group pull-right">
        {{#if currentUser.profile.isStaff}}
        {{#each ticketlistfooter_items}}
          {{{template}}}
        {{/each}}
        {{/if}}
        <button id="{{id}}" class="btn load-more">Load More</button>
      </div>
      <div class="clearfix"></div>
    </div>

  {{/with}}
</template>

<template name="widget_ticket_list_config">
<div class="row">
  <div class="span2">
    <label>Widget Label</label>
    <input class="widgetlabel" id="widgetlabel" type="text">
    <label>Width</label>
    <input class="widgetwidth" id="widgetwidth" type="number" value="1" min="1" max="12">
    <label>Height</label>
    <input class="widgetheight" id="widgetheight" type="number" value="1" min="1" max="12">
  </div>
  <div class="span1"></div>
  <div class="span2">
    <label>Select States</label>
    <select class="ticketstates" multiple="multiple" size="9">
      {{#each ticketstates}}
      <option value="{{name}}">{{name}}</option>
      {{/each}}
    </select>
  </div>
</div>
<div class="row">
  <div class="span5">
    <label>Sort Order</label>
    <table>
      <tr>
        <td><input type="radio" name="sortorder" value="ageascend">Newest First</td>
        <td><input type="radio" name="sortorder" value="agedescend">Oldest First</td>
      </tr>
      <tr>
        <td><input type="radio" name="sortorder" value="replyascend">Newest Reply First</td>
        <td><input type="radio" name="sortorder" value="replydescend">Oldest Reply First</td>
      </tr>
    </table>
  </div>
</div>
</template>
